<mxfile host="65bd71144e">
    <diagram id="dByV9d3qRvXfSrgIvH-x" name="Page-1">
        <mxGraphModel dx="470" dy="1143" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="classDiagram&#xa;    class BaseFrame {&#xa;        &lt;&lt;CRTP Base Class&gt;&gt;&#xa;        +common_interface()&#xa;        +virtual_methods()&#xa;    }&#xa;    &#xa;    class FixedFrame {&#xa;        +static constexpr size_t FRAME_SIZE = 20&#xa;        +uint8_t start&#xa;        +uint8_t header&#xa;        +uint8_t type&#xa;        +uint8_t frame_type&#xa;        +uint8_t frame_format&#xa;        +uint32_t id&#xa;        +uint8_t dlc&#xa;        +uint8_t data[8]&#xa;        +uint8_t reserved&#xa;        +uint8_t checksum&#xa;        +calculate_checksum()&#xa;        +serialize()&#xa;        +deserialize()&#xa;    }&#xa;    &#xa;    class VariableFrame {&#xa;        +uint8_t start&#xa;        +uint8_t type&#xa;        +uint32_t id&#xa;        +std::vector~uint8_t~ data&#xa;        +uint8_t end&#xa;        +get_dlc()&#xa;        +set_frame_type()&#xa;        +set_frame_format()&#xa;        +serialize()&#xa;        +deserialize()&#xa;    }&#xa;    &#xa;    class ConfigFrame {&#xa;        +uint8_t can_baud&#xa;        +uint32_t filter_id&#xa;        +uint32_t mask_id&#xa;        +uint8_t can_mode&#xa;        +uint8_t auto_rtx&#xa;        +uint8_t reserved[4]&#xa;        +configure_device()&#xa;        +validate_config()&#xa;    }&#xa;    &#xa;    class UsbCan {&#xa;        -libusb_context* context&#xa;        -libusb_device_handle* device_handle&#xa;        +initialize()&#xa;        +close()&#xa;        +send_frame(BaseFrame&amp;)&#xa;        +receive_frame()&#xa;        +configure(ConfigFrame&amp;)&#xa;        +set_baud_rate()&#xa;        +get_status()&#xa;    }&#xa;    &#xa;    class Common {&#xa;        &lt;&lt;utility&gt;&gt;&#xa;        +static constexpr uint8_t START = 0xAA&#xa;        +static constexpr uint8_t HEADER = 0x55&#xa;        +static constexpr uint8_t END = 0x55&#xa;        +enum FrameType&#xa;        +enum FrameFormat&#xa;        +enum CANBaud&#xa;        +enum CANMode&#xa;        +error_codes()&#xa;        +helper_functions()&#xa;    }&#xa;&#xa;    BaseFrame &lt;|-- FixedFrame : inherits (CRTP)&#xa;    BaseFrame &lt;|-- VariableFrame : inherits (CRTP)&#xa;    FixedFrame &lt;|-- ConfigFrame : inherits&#xa;    &#xa;    UsbCan --&gt; BaseFrame : uses&#xa;    UsbCan --&gt; FixedFrame : uses&#xa;    UsbCan --&gt; VariableFrame : uses&#xa;    UsbCan --&gt; ConfigFrame : uses&#xa;    &#xa;    FixedFrame --&gt; Common : uses constants&#xa;    VariableFrame --&gt; Common : uses constants&#xa;    ConfigFrame --&gt; Common : uses constants&#xa;    UsbCan --&gt; Common : uses utilities" style="shadow=0;dashed=0;align=left;strokeWidth=1;shape=mxgraph.mermaid.abstract.mermaid;labelBackgroundColor=#ffffff;noLabel=1;theme=default;fontStyle=1" vertex="1" parent="1">
                    <mxGeometry x="90" y="430" width="300" height="300" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>