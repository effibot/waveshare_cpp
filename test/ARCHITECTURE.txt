```
                    Waveshare C++ Testing Architecture
                    ═══════════════════════════════════

┌─────────────────────────────────────────────────────────────────────┐
│                         Testing Framework: Catch2 v3                │
│                  Modern, Header-Only C++ Testing Framework          │
└─────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                                    
┌─────────────────────────────────────────────────────────────────────┐
│                          CMakeLists.txt                             │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │  • Auto-downloads Catch2 if not found (FetchContent)          │ │
│  │  • Links with all source files from src/                     │ │
│  │  • Enables CTest integration                                 │ │
│  │  • Configures test discovery                                 │ │
│  └───────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                                    
┌─────────────────────────────────────────────────────────────────────┐
│                        Test Organization                            │
│                                                                     │
│   ┌──────────────────┐        ┌──────────────────┐                │
│   │ Test Fixture     │        │ Test Cases       │                │
│   │                  │        │                  │                │
│   │ • Common setup   │───────▶│ • Constructor    │                │
│   │ • Test data      │        │ • Baud rate      │                │
│   │ • Helper methods │        │ • CAN mode       │                │
│   └──────────────────┘        │ • Filter/mask    │                │
│                               │ • Integration    │                │
│                               │ • Checksum       │                │
│                               └──────────────────┘                │
│                                       │                            │
│                                       ▼                            │
│                               ┌──────────────────┐                │
│                               │ SECTION Blocks   │                │
│                               │                  │                │
│                               │ • Scenario 1     │                │
│                               │ • Scenario 2     │                │
│                               │ • Edge cases     │                │
│                               └──────────────────┘                │
└─────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                                    
┌─────────────────────────────────────────────────────────────────────┐
│                    AAA Pattern (Every Test)                         │
│                                                                     │
│   ╔═══════════════╗      ╔═══════════════╗      ╔═══════════════╗ │
│   ║   ARRANGE     ║  →   ║     ACT       ║  →   ║    ASSERT     ║ │
│   ║               ║      ║               ║      ║               ║ │
│   ║ Set up test   ║      ║ Perform       ║      ║ Verify        ║ │
│   ║ conditions    ║      ║ operation     ║      ║ results       ║ │
│   ╚═══════════════╝      ╚═══════════════╝      ╚═══════════════╝ │
└─────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                                    
┌─────────────────────────────────────────────────────────────────────┐
│                        Tag-Based Organization                       │
│                                                                     │
│    [config]  ──▶  All ConfigFrame tests                           │
│    [baud]    ──▶  Baud rate tests                                 │
│    [filter]  ──▶  Filter configuration tests                      │
│    [integration] ─▶ End-to-end workflow tests                     │
│                                                                     │
│    Run: ./test_config_frame [tag]                                 │
└─────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                                    
┌─────────────────────────────────────────────────────────────────────┐
│                         Test Execution Flow                         │
│                                                                     │
│   ./build_and_test.sh                                              │
│           │                                                         │
│           ▼                                                         │
│   ┌───────────────┐                                                │
│   │ CMake Config  │  (Download Catch2 if needed)                   │
│   └───────────────┘                                                │
│           │                                                         │
│           ▼                                                         │
│   ┌───────────────┐                                                │
│   │ Build Tests   │  (Compile test_config_frame.cpp + sources)     │
│   └───────────────┘                                                │
│           │                                                         │
│           ▼                                                         │
│   ┌───────────────┐                                                │
│   │ Run Tests     │  (Execute test_config_frame)                   │
│   └───────────────┘                                                │
│           │                                                         │
│           ▼                                                         │
│   ┌───────────────┐                                                │
│   │ Show Results  │  (✅ Pass / ❌ Fail with details)              │
│   └───────────────┘                                                │
└─────────────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════════

                         Test Coverage Map
                         ─────────────────

    ConfigFrame Class
    └── Public Methods
        ├── ✅ get_baud_rate() / set_baud_rate()
        ├── ✅ get_can_mode() / set_can_mode()  
        ├── ✅ get_auto_rtx() / set_auto_rtx()
        ├── ✅ get_filter() / set_filter()
        ├── ✅ get_mask() / set_mask()
        ├── ✅ get_type() / set_type()
        ├── ✅ size()
        └── ✅ finalize()

    Test Categories
    ├── [constructor]    → Initialization tests
    ├── [baud]          → Baud rate configuration
    ├── [mode]          → CAN mode tests
    ├── [rtx]           → Auto-retransmission
    ├── [filter]        → Filter configuration
    ├── [mask]          → Mask configuration
    ├── [type]          → Frame type operations
    ├── [size]          → Size verification
    ├── [checksum]      → Checksum/finalization
    └── [integration]   → Complete workflows

════════════════════════════════════════════════════════════════════════

                     Test Best Practices Applied
                     ────────────────────────────

    ✅ Test Fixtures         → Reusable ConfigFrameFixture
    ✅ AAA Pattern          → Every test follows Arrange-Act-Assert
    ✅ SECTION Grouping     → Related scenarios together
    ✅ Descriptive Names    → "ClassName - What when Condition"
    ✅ Edge Cases          → Min/max boundary testing
    ✅ Tag Organization    → Run subsets with [tags]
    ✅ Integration Tests   → Realistic multi-step workflows
    ✅ Fast & Isolated     → No I/O, no dependencies
    ✅ Self-Documenting    → Tests = API examples
    ✅ State Testing       → Field independence verified
    ✅ Memory Testing      → Size consistency checked
    ✅ WHY Comments        → Explain rationale, not code

════════════════════════════════════════════════════════════════════════

                           File Structure
                           ──────────────

    tests/
    ├── test_config_frame.cpp      380 lines, 13 test cases
    ├── CMakeLists.txt             Modern CMake config
    ├── build_and_test.sh          Convenience script
    ├── README.md                  Complete guide
    ├── CATCH2_REFERENCE.md        Assertion reference
    ├── SUMMARY.md                 Best practices
    ├── QUICKSTART.txt             Quick start
    └── ARCHITECTURE.txt           This file

════════════════════════════════════════════════════════════════════════
```
